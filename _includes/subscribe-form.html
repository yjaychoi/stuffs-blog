{% assign form = site.kit.form %}
{% assign is_compact = false %}
{% if include.variant == "compact" %}
  {% assign is_compact = true %}
{% endif %}
{% assign instance_id = include.id | default: page.url | append: "-subscribe" | slugify %}
<section class="subscribe-block{% if is_compact %} subscribe-block--compact{% endif %}">
  {% if is_compact %}
    <h3>구독하기</h3>
  {% else %}
    <h2>이메일로 소식 받기</h2>
  {% endif %}
  {% if is_compact %}
    <p class="subscribe-block__lede">새로운 포스팅 소식을 이메일로 보내드려요.</p>
  {% else %}
    <p class="subscribe-block__lede">쉴 새 없이 변하는 AI 활용법, "유명 테크 블로그 번역본"으로 최신 소식을 메일로 받아보세요.</p>
  {% endif %}
  <form
    action="{{ form.form_action }}"
    class="subscribe-form seva-form formkit-form"
    method="post"
    accept-charset="utf-8"
    data-sv-form="{{ form.form_id }}"
    data-uid="{{ form.form_uid }}"
    data-format="inline"
    data-version="5"
  >
    <div class="subscribe-form__field">
      <label class="subscribe-form__label" for="{{ instance_id }}-email">이메일 주소</label>
      <input
        id="{{ instance_id }}-email"
        name="email_address"
        type="email"
        autocomplete="email"
        inputmode="email"
        required
        placeholder="you@example.com"
        aria-describedby="{{ instance_id }}-privacy"
      >
    </div>

    <button type="submit">구독</button>
  </form>
  <p class="subscribe-block__privacy" id="{{ instance_id }}-privacy">
    언제든지 구독 해지 가능
  </p>
</section>
